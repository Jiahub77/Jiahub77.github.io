{"version":3,"file":"js/702.b874ed7d.js","mappings":"oKAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,aAAa,KAAO,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,MAAM,KAAKP,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIU,GAAG,WAAW,GAAGV,EAAIW,GAAIX,EAAIY,WAAW,SAASC,EAAEC,GAAO,OAAOZ,EAAG,MAAM,CAACa,IAAID,EAAMV,YAAY,WAAW,CAACJ,EAAIW,GAAIE,GAAG,SAASG,EAAMF,GAAO,OAAOZ,EAAG,iBAAiB,CAACa,IAAID,GAAO,CAACZ,EAAG,WAAW,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQW,EAAMC,MAAM,MAAQD,EAAME,KAAK,MAAQF,EAAMG,QAAQ,IAAMH,GAAOI,OAASpB,EAAIqB,UAAUP,GAAOM,OAAOd,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,QAAQc,KAAK,CACjoBC,KAAM,kBACNC,MAAO,CACLC,WAAYT,EAAMS,aAEpB,MAAM,EAAE,IAAGvB,EAAG,MAAM,CAACE,YAAY,MAAMsB,YAAY,CAAC,kBAAkB,QAAQ,CAAiC,QAA/B1B,EAAIqB,UAAUP,GAAOa,MAAiBzB,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,KAAO,SAAS,MAAQ,GAAG,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAI4B,SAAS5B,EAAIqB,UAAUP,GAAOe,GAAG,IAAI,CAAC7B,EAAIU,GAAG,UAAUV,EAAI8B,KAAqC,QAA/B9B,EAAIqB,UAAUP,GAAOa,MAAiBzB,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,KAAO,SAAS,MAAQ,GAAG,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,QAAQc,KAAK,CAClfC,KAAM,WACNC,MAAO,CAAEO,SAAU/B,EAAIqB,UAAUP,GAAOe,KACxC,IAAI,CAAC7B,EAAIU,GAAG,UAAUV,EAAI8B,MAAM,IAAI,EAAE,KAAI,EACtD,EACIE,EAAkB,G,oCCiDtB,GACAC,SAAA,KACAC,EAAAA,EAAAA,IAAA,eAEAtB,SAAAA,GACA,OAAAuB,OAAAC,OAAA,KAAAf,WAAAgB,KAAAC,GACAH,OAAAC,OAAAE,GAAAC,QAAAD,IACA,qBAAAA,EACA,OAAAA,CACA,KAGA,GAEAE,QAAA,KACAC,EAAAA,EAAAA,IAAA,iBACAb,QAAAA,CAAAC,GACA,IAAAa,EAAA,KAAArB,UAAAgB,KAAAxB,GACAA,EAAAgB,IAAAA,EACA,IAAAhB,EAAAc,MAAA,OAEAd,IAEA8B,QAAAC,IAAAF,GACAG,aAAAC,QAAA,YAAAC,KAAAC,UAAAN,IAEA,KAAAO,aACA,ICtFkQ,I,UCQ9PC,GAAY,OACd,EACAnD,EACAiC,GACA,EACA,KACA,WACA,MAIF,EAAekB,EAAiB,O","sources":["webpack://myvuex/./src/views/BuyPage/AllBuyList.vue","webpack://myvuex/src/views/BuyPage/AllBuyList.vue","webpack://myvuex/./src/views/BuyPage/AllBuyList.vue?7aa1","webpack://myvuex/./src/views/BuyPage/AllBuyList.vue?5e8c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buy\"},[_c('header',[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"title\"},[_vm._v(\"全部订单\")])],1),_vm._l((_vm.filterObj),function(o,index){return _c('div',{key:index,staticClass:\"product\"},[_vm._l((o),function(order,index){return _c('van-swipe-cell',{key:index},[_c('van-card',{staticClass:\"goods-card\",attrs:{\"price\":order.price,\"title\":order.name,\"thumb\":order.img_url,\"num\":order?.count || _vm.orderList[index].count},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/productdetails',\n            query: {\n              product_id: order.product_id,\n            },\n          })}}})],1)}),_c('div',{staticClass:\"btn\",staticStyle:{\"justify-content\":\"end\"}},[(_vm.orderList[index].state === '已支付')?_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.complete(_vm.orderList[index].id)}}},[_vm._v(\"确认收货\")]):_vm._e(),(_vm.orderList[index].state === '未支付')?_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/buypage',\n            query: { order_id: _vm.orderList[index].id },\n          })}}},[_vm._v(\"继续付款\")]):_vm._e()],1)],2)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buy\">\r\n    <header>\r\n      <van-icon name=\"arrow-left\" size=\"20\" @click=\"$router.back()\" />\r\n      <div class=\"title\">全部订单</div>\r\n    </header>\r\n    <!-- 产品 -->\r\n    <div class=\"product\" v-for=\"(o, index) in filterObj\" :key=\"index\">\r\n      <van-swipe-cell v-for=\"(order, index) in o\" :key=\"index\">\r\n        <van-card\r\n          :price=\"order.price\"\r\n          :title=\"order.name\"\r\n          class=\"goods-card\"\r\n          :thumb=\"order.img_url\"\r\n          :num=\"order?.count || orderList[index].count\"\r\n          @click=\"\r\n            $router.push({\r\n              path: '/productdetails',\r\n              query: {\r\n                product_id: order.product_id,\r\n              },\r\n            })\r\n          \"\r\n        />\r\n      </van-swipe-cell>\r\n      <div class=\"btn\" style=\"justify-content: end\">\r\n        <van-button\r\n          plain\r\n          hairline\r\n          type=\"danger\"\r\n          round\r\n          size=\"small\"\r\n          v-if=\"orderList[index].state === '已支付'\"\r\n          @click=\"complete(orderList[index].id)\"\r\n          >确认收货</van-button\r\n        >\r\n        <van-button\r\n          plain\r\n          hairline\r\n          type=\"danger\"\r\n          round\r\n          size=\"small\"\r\n          v-if=\"orderList[index].state === '未支付'\"\r\n          @click=\"\r\n            $router.push({\r\n              path: '/buypage',\r\n              query: { order_id: orderList[index].id },\r\n            })\r\n          \"\r\n          >继续付款</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState([\"orderList\"]),\r\n    // 过滤不是对象\r\n    filterObj() {\r\n      return Object.values(this.orderList).map((item) => {\r\n        return Object.values(item).filter((item) => {\r\n          if (typeof item === \"object\") {\r\n            return item;\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"updateOrder\"]),\r\n    complete(id) {\r\n      let newOrderList = this.orderList.map((o) => {\r\n        if (o.id == id) {\r\n          return { ...o, state: \"已完成\" };\r\n        }\r\n        return o;\r\n      });\r\n      console.log(newOrderList);\r\n      localStorage.setItem(\"orderList\", JSON.stringify(newOrderList));\r\n      // this.$router.replace(\"/orderdetail\");\r\n      this.updateOrder();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.buy {\r\n  background: #f2f2f2;\r\n  height: 100vh;\r\n  header {\r\n    margin-top: 0px;\r\n    color: rgba(0, 0, 0, 0.8);\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    padding: 0.3rem 0;\r\n    background: #fff;\r\n    display: flex;\r\n    justify-content: center;\r\n    .title {\r\n      width: 90vw;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .product {\r\n    margin: 0.2rem auto;\r\n    width: 96vw;\r\n    border-radius: 10px;\r\n    background: #fff;\r\n    padding-bottom: 0.2rem;\r\n    .serve {\r\n      width: 94%;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.2rem 0;\r\n      margin: auto;\r\n      span {\r\n        color: #000;\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n    .btn {\r\n      width: 94%;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.2rem 0;\r\n      margin: auto;\r\n      color: rgb(253, 81, 1);\r\n    }\r\n  }\r\n}\r\n.van-card {\r\n  border-radius: 10px;\r\n  background: #fff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllBuyList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllBuyList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AllBuyList.vue?vue&type=template&id=0dafdb3b&scoped=true\"\nimport script from \"./AllBuyList.vue?vue&type=script&lang=js\"\nexport * from \"./AllBuyList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AllBuyList.vue?vue&type=style&index=0&id=0dafdb3b&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dafdb3b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","_v","_l","filterObj","o","index","key","order","price","name","img_url","count","orderList","push","path","query","product_id","staticStyle","state","complete","id","_e","order_id","staticRenderFns","computed","mapState","Object","values","map","item","filter","methods","mapMutations","newOrderList","console","log","localStorage","setItem","JSON","stringify","updateOrder","component"],"sourceRoot":""}