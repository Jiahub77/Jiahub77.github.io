{"version":3,"file":"js/885.750fed0e.js","mappings":"oKAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,aAAa,KAAO,KAAK,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,MAAM,KAAKP,EAAG,aAAa,CAACG,MAAM,CAAC,cAAc,GAAG,YAAc,WAAW,UAAY,IAAIC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOP,EAAIQ,QAAQE,KAAK,CAACC,KAAK,cAAcC,MAAM,CAAEC,IAAIb,EAAIc,QAAQ,EAAE,MAAQd,EAAIe,kBAAkBC,YAAYhB,EAAIiB,GAAG,CAAC,CAACJ,IAAI,SAASK,GAAG,WAAW,MAAO,CAAChB,EAAG,MAAM,CAACI,GAAG,CAAC,MAAQN,EAAImB,iBAAiB,CAACnB,EAAIoB,GAAG,QAAQ,EAAEC,OAAM,KAAQC,MAAM,CAACR,MAAOd,EAAIc,MAAOS,SAAS,SAAUC,GAAMxB,EAAIc,MAAMU,CAAG,EAAEC,WAAW,YAAY,GAAGvB,EAAG,MAAM,CAACE,YAAY,eAAe,CAAGJ,EAAIc,MAAiCd,EAAI0B,KAA9BxB,EAAG,KAAK,CAACF,EAAIoB,GAAG,UAAqBpB,EAAIc,OAA0Md,EAAIc,OAASd,EAAI2B,cAAezB,EAAG,KAAK,CAACE,YAAY,WAAWJ,EAAI4B,GAAI5B,EAAI2B,eAAe,SAASE,GAAM,OAAO3B,EAAG,KAAK,CAACW,IAAIgB,EAAKC,GAAGxB,GAAG,CAAC,MAAQ,SAASC,GAAQP,EAAIc,MAAQe,EAAKE,KAAK,IAAI,CAAC/B,EAAIoB,GAAG,IAAIpB,EAAIgC,GAAGH,EAAKE,OAAO,MAAM,IAAG,IAAxa7B,EAAG,KAAK,CAACE,YAAY,SAASJ,EAAI4B,GAAI5B,EAAIiC,aAAa,SAASJ,GAAM,OAAO3B,EAAG,KAAK,CAACW,IAAIgB,EAAKC,GAAGxB,GAAG,CAAC,MAAQ,SAASC,GAAQP,EAAIc,MAAQe,EAAKK,IAAI,IAAI,CAAClC,EAAIoB,GAAG,IAAIpB,EAAIgC,GAAGH,EAAKK,MAAM,MAAM,IAAG,MACt8B,EACIC,EAAkB,GCyCtB,GACAC,IAAAA,GACA,OAEAtB,MAAA,GAEAmB,YAAA,KACAN,cAAA,KACAU,aAAA,KAEA,EACAC,QAAA,CACAC,cAAAA,GACA,KAAAC,MAAAC,IAAA,uBAAAC,MAAAC,IAEA,KAAAV,YAAAU,EAAAP,KAAAA,KAAAQ,aAAA,GAEA,EAEA7B,gBAAAA,GACA,KAAAD,OACA,KAAA+B,YACAJ,IAAA,qCAAA3B,OACA4B,MAAAC,IACA,KAAAhB,cAAAgB,EAAAP,KAAAA,KAAAU,KACAC,QAAAC,IAAA,KAAArB,cAAA,GAEA,EAMAR,cAAAA,GACA,KAAAL,OACA,KAAAN,QAAAE,KAAA,CAAAC,KAAA,cAAAC,MAAA,CAAAC,IAAA,KAAAC,QACA,GAEAmC,OAAAA,GACA,KAAAV,gBACA,GCnFkQ,I,UCQ9PW,GAAY,OACd,EACAnD,EACAoC,GACA,EACA,KACA,WACA,MAIF,EAAee,EAAiB,O","sources":["webpack://myvuex/./src/views/Search/SearchView.vue","webpack://myvuex/src/views/Search/SearchView.vue","webpack://myvuex/./src/views/Search/SearchView.vue?f8b9","webpack://myvuex/./src/views/Search/SearchView.vue?dba6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"search\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"24\",\"color\":\"#949494\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":\"请输入搜索关键词\",\"autofocus\":\"\"},on:{\"search\":function($event){return _vm.$router.push({path:'/searchlist',query:{ key:_vm.value}})},\"input\":_vm.getSearchSuggest},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{on:{\"click\":_vm.goSearchResult}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"searchFound\"},[(!_vm.value)?_c('h4',[_vm._v(\"搜索发现\")]):_vm._e(),(!_vm.value)?_c('ul',{staticClass:\"found\"},_vm._l((_vm.searchFound),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){_vm.value = item.desc}}},[_vm._v(\" \"+_vm._s(item.desc)+\" \")])}),0):(_vm.value && _vm.searchSuggest)?_c('ul',{staticClass:\"suggest\"},_vm._l((_vm.searchSuggest),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){_vm.value = item.title}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),0):_c('ul',{staticClass:\"suggest\"},_vm._l((_vm.searchSuggest),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){_vm.value = item.title}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 搜索框 -->\r\n    <div class=\"search\">\r\n      <van-icon name=\"arrow-left\" size=\"24\" color=\"#949494\" @click=\"$router.back()\"/>\r\n      <van-search\r\n        v-model=\"value\"\r\n        show-action\r\n        placeholder=\"请输入搜索关键词\"\r\n        @search=\"$router.push({path:'/searchlist',query:{ key:value}})\"\r\n        @input=\"getSearchSuggest\"\r\n        autofocus\r\n      >\r\n        <template #action>\r\n          <div @click=\"goSearchResult\">搜索</div>\r\n        </template>\r\n      </van-search>\r\n    </div>\r\n\r\n    <!-- 搜索发现 -->\r\n    <div class=\"searchFound\">\r\n      <h4 v-if=\"!value\">搜索发现</h4>\r\n      <ul class=\"found\" v-if=\"!value\">\r\n        <li v-for=\"item in searchFound\" :key=\"item.id\" @click=\"value = item.desc\">\r\n          {{ item.desc }}\r\n        </li>\r\n      </ul>\r\n      <!-- 搜索建议 -->\r\n      <ul class=\"suggest\" v-else-if=\"value && searchSuggest\">\r\n        <li v-for=\"item in searchSuggest\" :key=\"item.id\"  @click=\"value = item.title\">\r\n          {{ item.title }}\r\n        </li>\r\n      </ul>\r\n      <ul class=\"suggest\" v-else>\r\n        <li v-for=\"item in searchSuggest\" :key=\"item.id\"  @click=\"value = item.title\">\r\n          {{ item.title }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 搜索的关键词\r\n      value: \"\",\r\n      //搜索发现\r\n      searchFound: null,\r\n      searchSuggest: null,\r\n      searchResult:null,\r\n    };\r\n  },  \r\n  methods: {\r\n    getSearchFound() {\r\n      this.axios.get(\"hisearch/se_default\").then((res) => {\r\n        // console.log(res.data.data.discover_list);\r\n        this.searchFound = res.data.data.discover_list;\r\n      });\r\n    },\r\n    // 搜索建议\r\n    getSearchSuggest() {\r\n      if (!this.value) return;\r\n      this.axiosSearch\r\n        .get(\"hisearch/suggestion_v3?query=\" + this.value)\r\n        .then((res) => {\r\n          this.searchSuggest = res.data.data.list;\r\n          console.log(this.searchSuggest);\r\n        });\r\n    },\r\n    // getSearchRes() {\r\n    //   this.axios.get(\"hisearch/query_v3?query=\" + this.value).then((res) => {\r\n    //     console.log(res.data);\r\n    //   });\r\n    // },\r\n    goSearchResult(){\r\n      if(!this.value) return\r\n      this.$router.push({path:'/searchlist',query:{ key:this.value}})\r\n    }\r\n  },\r\n  created() {\r\n    this.getSearchFound();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f2f2f2;\r\n  justify-content: space-around;\r\n  padding: 0 8px;\r\n  .van-search {\r\n    background: #f2f2f2;\r\n    padding: 12px;\r\n    width: 94vw;\r\n  }\r\n}\r\n\r\n.searchFound {\r\n  h4 {\r\n    text-align: left;\r\n    padding: 0 18px;\r\n  }\r\n  .found {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    li {\r\n      width: 40vw;\r\n      margin: 8px 0;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .suggest {\r\n    text-align: left;\r\n    li {\r\n      margin: 8px 0;\r\n      padding: 8px 18px;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SearchView.vue?vue&type=template&id=679f4949&scoped=true\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\nimport style0 from \"./SearchView.vue?vue&type=style&index=0&id=679f4949&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"679f4949\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","push","path","query","key","value","getSearchSuggest","scopedSlots","_u","fn","goSearchResult","_v","proxy","model","callback","$$v","expression","_e","searchSuggest","_l","item","id","title","_s","searchFound","desc","staticRenderFns","data","searchResult","methods","getSearchFound","axios","get","then","res","discover_list","axiosSearch","list","console","log","created","component"],"sourceRoot":""}