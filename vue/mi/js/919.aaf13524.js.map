{"version":3,"file":"js/919.aaf13524.js","mappings":"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","sources":["webpack://myvuex/./src/views/BuyPage/BuyPage.vue","webpack://myvuex/src/views/BuyPage/BuyPage.vue","webpack://myvuex/./src/views/BuyPage/BuyPage.vue?0961","webpack://myvuex/./src/views/BuyPage/BuyPage.vue?d5bd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.order)?_c('div',{staticClass:\"buy\"},[_c('header',[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"20\"},on:{\"click\":_vm.giveUp}}),_c('div',{staticClass:\"title\"},[_vm._v(\"订单详情\")]),_c('van-dialog',{attrs:{\"show-cancel-button\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}})],1),(_vm.contact)?_c('van-contact-card',{attrs:{\"type\":\"edit\",\"name\":_vm.contact.name,\"tel\":_vm.contact.tel}}):_c('van-contact-card',{attrs:{\"type\":\"add\"},on:{\"click\":_vm.showPopup}}),_c('van-popup',{style:({ height: '60%', 'padding-top': '16px' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-contact-list',{attrs:{\"list\":_vm.list,\"default-tag-text\":\"默认\"},on:{\"add\":_vm.onAdd,\"edit\":_vm.onEdit,\"select\":_vm.onSelect},model:{value:(_vm.chosenContactId),callback:function ($$v) {_vm.chosenContactId=$$v},expression:\"chosenContactId\"}})],1),_c('van-popup',{style:({ height: '60%', 'padding-top': '16px' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showLink),callback:function ($$v) {_vm.showLink=$$v},expression:\"showLink\"}},[_c('van-address-edit',{attrs:{\"area-list\":_vm.areaList,\"show-postal\":\"\",\"show-delete\":\"\",\"show-set-default\":\"\",\"show-search-result\":\"\",\"search-result\":_vm.searchResult,\"area-columns-placeholder\":['请选择', '请选择', '请选择']},on:{\"save\":_vm.onSave,\"delete\":_vm.onDelete,\"change-detail\":_vm.onChangeDetail}})],1),_c('div',{staticClass:\"product\"},[_vm._l((_vm.filterObj),function(o,index){return _c('van-swipe-cell',{key:index},[_c('van-card',{staticClass:\"goods-card\",attrs:{\"price\":o?.price,\"title\":o.name,\"thumb\":o.img_url,\"num\":o.count || _vm.order.count},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/productdetails',\n            query: {\n              product_id: o.product_id,\n            },\n          })}}})],1)}),_vm._m(0),_c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\"订单编号\")]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.order.id)+\" |\")]),_vm._v(\" 复制 \")])])],2),_c('div',{staticClass:\"product\"},[_c('p',{staticClass:\"price\"},[_vm._v(\"价格\")]),_c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\" 商品总价 \"),_c('span',[_vm._v(\"共\"+_vm._s(_vm.order.count || _vm.Allcount)+\"件宝贝\")])]),_c('div',[_vm._v(\"￥\"+_vm._s(_vm.order.price || _vm.total))])]),_c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\"合计\")]),_c('div',[_vm._v(\"￥\"+_vm._s(_vm.total))])])]),_c('van-submit-bar',{attrs:{\"price\":_vm.total * 100,\"button-text\":\"提交订单\"},on:{\"submit\":_vm.onSubmit}}),_c('van-popup',{style:({ height: '50%', 'padding-top': '16px' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.psw),callback:function ($$v) {_vm.psw=$$v},expression:\"psw\"}},[_c('van-password-input',{attrs:{\"value\":_vm.value,\"focused\":_vm.showKeyboard},on:{\"focus\":function($event){_vm.showKeyboard = true}}}),_c('van-number-keyboard',{attrs:{\"show\":_vm.showKeyboard},on:{\"blur\":function($event){_vm.showKeyboard = false}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1):_vm._e()\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\"配送服务\")]),_c('div',[_c('div',[_vm._v(\"快递 免邮\")]),_c('div',[_vm._v(\"预计24小时内发货\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buy\" v-if=\"order\">\r\n    <header>\r\n      <van-icon name=\"arrow-left\" size=\"20\" @click=\"giveUp\" />\r\n      <div class=\"title\">订单详情</div>\r\n      <van-dialog v-model=\"dialog\" show-cancel-button></van-dialog>\r\n    </header>\r\n    <van-contact-card v-if=\"contact\" type=\"edit\" :name=\"contact.name\" :tel=\"contact.tel\" />\r\n    <van-contact-card v-else type=\"add\" @click=\"showPopup\" />\r\n\r\n    <!-- @click=\"onEdit\" -->\r\n\r\n    <!-- 联系人 -->\r\n    <van-popup v-model=\"show\" round position=\"bottom\" :style=\"{ height: '60%', 'padding-top': '16px' }\">\r\n      <van-contact-list v-model=\"chosenContactId\" :list=\"list\" default-tag-text=\"默认\" @add=\"onAdd\" @edit=\"onEdit\"\r\n        @select=\"onSelect\" />\r\n    </van-popup>\r\n    <!-- 新增联系人 -->\r\n    <van-popup v-model=\"showLink\" round position=\"bottom\" :style=\"{ height: '60%', 'padding-top': '16px' }\">\r\n      <van-address-edit :area-list=\"areaList\" show-postal show-delete show-set-default show-search-result\r\n        :search-result=\"searchResult\" :area-columns-placeholder=\"['请选择', '请选择', '请选择']\" @save=\"onSave\"\r\n        @delete=\"onDelete\" @change-detail=\"onChangeDetail\" />\r\n    </van-popup>\r\n\r\n    <!-- 产品 -->\r\n    <div class=\"product\">\r\n      <van-swipe-cell v-for=\"(o, index) in filterObj\" :key=\"index\">\r\n        <van-card :price=\"o?.price\" :title=\"o.name\" class=\"goods-card\" :thumb=\"o.img_url\" :num=\"o.count || order.count\"\r\n          @click=\"\r\n            $router.push({\r\n              path: '/productdetails',\r\n              query: {\r\n                product_id: o.product_id,\r\n              },\r\n            })\r\n            \" />\r\n      </van-swipe-cell>\r\n      <div class=\"serve\">\r\n        <div>配送服务</div>\r\n        <div>\r\n          <div>快递 免邮</div>\r\n          <div>预计24小时内发货</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"serve\">\r\n        <div>订单编号</div>\r\n        <div>\r\n          <span>{{ order.id }} |</span> 复制\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 价格 -->\r\n    <div class=\"product\">\r\n      <p class=\"price\">价格</p>\r\n      <div class=\"serve\">\r\n        <div>\r\n          商品总价 <span>共{{ order.count || Allcount }}件宝贝</span>\r\n        </div>\r\n        <div>￥{{ order.price || total }}</div>\r\n      </div>\r\n      <div class=\"serve\">\r\n        <div>合计</div>\r\n        <div>￥{{ total }}</div>\r\n      </div>\r\n    </div>\r\n    <!-- 下单 -->\r\n    <van-submit-bar :price=\"total * 100\" button-text=\"提交订单\" @submit=\"onSubmit\" />\r\n    <!-- 密码 -->\r\n    <van-popup v-model=\"psw\" round position=\"bottom\" :style=\"{ height: '50%', 'padding-top': '16px' }\">\r\n      <!-- 密码输入框 -->\r\n      <van-password-input :value=\"value\" :focused=\"showKeyboard\" @focus=\"showKeyboard = true\" />\r\n      <!-- 数字键盘 -->\r\n      <van-number-keyboard v-model=\"value\" :show=\"showKeyboard\" @blur=\"showKeyboard = false\" />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { Toast, Dialog } from \"vant\";\r\nimport { areaList } from \"@vant/area-data\";\r\n\r\nexport default {\r\n  components: {\r\n    [Dialog.Component.name]: Dialog.Component\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      // 联系人列表\r\n      show: false,\r\n      // 新增联系人\r\n      showLink: false,\r\n\r\n      // 联系人\r\n      contact: null,\r\n      chosenContactId: \"1\",\r\n      list: JSON.parse(localStorage.getItem(\"contactList\")) || [],\r\n\r\n      // 地址\r\n      areaList,\r\n      searchResult: [],\r\n\r\n      // 密码\r\n      psw: false,\r\n      value: \"\",\r\n      showKeyboard: true,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"orderList\",\"carList\"]),\r\n    order() {\r\n      return this.orderList.find((order) => {\r\n        return order.id == this.$route.query.order_id;\r\n      });\r\n    },\r\n    // 过滤不是对象\r\n    filterObj() {\r\n      return Object.values(this.order).filter(item => {\r\n        if (typeof item === \"object\") {\r\n          return item\r\n        }\r\n      })\r\n    },\r\n    // 总价\r\n    total() {\r\n      let sum = 0\r\n      this.filterObj.forEach(item => {\r\n        sum = parseFloat(item.price) + sum\r\n      });\r\n      return sum\r\n    },\r\n    // 数量\r\n    Allcount() {\r\n      let sum = 0\r\n      this.filterObj.forEach(item => {\r\n        sum = parseFloat(item.count) + sum\r\n      });\r\n      return sum\r\n    }\r\n  },\r\n  watch: {\r\n    value(n) {\r\n      // console.log(n.length);\r\n      let password = JSON.parse(localStorage.getItem(\"users\")).filter(item => {\r\n        return item.token === this.token\r\n      })\r\n\r\n      if (n.length === 6) {\r\n        if (!this.contact) {\r\n          Toast(\"请填写联系人\");\r\n          this.psw = false;\r\n          this.value = \"\";\r\n        } else if (n == password[0].password) {\r\n          Toast(\"支付完成\");\r\n          this.psw = false;\r\n          // this.order.state = \"已支付\";\r\n          let newOrderList = this.orderList.map((o) => {\r\n            if (o.id == this.$route.query.order_id) {\r\n              return { ...o, state: \"已支付\" };\r\n            }\r\n            return o\r\n          });\r\n          localStorage.setItem(\"orderList\", JSON.stringify(newOrderList));\r\n          // 购物车清除已购买产品\r\n          let newCarList = this.carList.filter((item) => {\r\n            return !item.ischecked;\r\n          });\r\n          localStorage.setItem(\"carList\", JSON.stringify(newCarList));\r\n          this.updateCar();\r\n          this.$router.replace(\"/orderdetail\");\r\n          this.updateOrder();\r\n        } else {\r\n          Toast(\"密码错误\")\r\n          this.value = \"\"\r\n        }\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"updateOrder\",\"updateCar\"]),\r\n\r\n    showPopup() {\r\n      this.show = true;\r\n    },\r\n    onAdd() {\r\n      this.show = false;\r\n      this.showLink = true;\r\n    },\r\n    onEdit(contact) {\r\n      Toast(\"编辑\" + contact.id);\r\n    },\r\n    // 选择联系人\r\n    onSelect(contact) {\r\n      Toast(\"你好\" + contact.name);\r\n      this.show = false;\r\n      this.contact = {\r\n        areaCode: contact.areaCode,\r\n        city: contact.city,\r\n        country: contact.country,\r\n        county: contact.county,\r\n        isDefault: contact.isDefault,\r\n        name: contact.name,\r\n        postalCode: contact.postalCode,\r\n        province: contact.province,\r\n        tel: contact.tel,\r\n      };\r\n    },\r\n    // 新增联系人\r\n    onSave(content) {\r\n      // console.log(content);\r\n      this.list = [...this.list, { ...content }];\r\n      console.log(this.list);\r\n      localStorage.setItem(\"contactList\", JSON.stringify(this.list));\r\n      this.showLink = false;\r\n      this.show = true;\r\n    },\r\n    onDelete() {\r\n      Toast(\"delete\");\r\n    },\r\n    onChangeDetail(val) {\r\n      if (val) {\r\n        this.searchResult = [\r\n          {\r\n            name: \"黄龙万科中心\",\r\n            address: \"杭州市西湖区\",\r\n          },\r\n        ];\r\n      } else {\r\n        this.searchResult = [];\r\n      }\r\n    },\r\n    // 提交订单\r\n    onSubmit() {\r\n      this.psw = true;\r\n    },\r\n    // 回退\r\n    giveUp() {\r\n      // this.dialog = true\r\n      Dialog.confirm({\r\n        message: '订单还未支付，确认退出吗'\r\n      }).then(() => {\r\n        this.$router.back()\r\n        // 更新订单\r\n        let newOrderList = this.orderList.filter((item) => {\r\n          return item.id != this.$route.query.order_id\r\n        })\r\n        localStorage.setItem(\"orderList\", JSON.stringify(newOrderList));\r\n      }).catch(() => {\r\n        this.dialog = false\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.buy {\r\n  background: #f2f2f2;\r\n  height: 100vh;\r\n  margin-bottom: 62px;\r\n\r\n  header {\r\n    margin-top: 0px;\r\n    color: rgba(0, 0, 0, 0.8);\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    padding: 0.3rem 0;\r\n    background: #fff;\r\n    display: flex;\r\n\r\n    .title {\r\n      width: 90vw;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  .product {\r\n    margin: 0.2rem auto;\r\n    width: 96vw;\r\n    border-radius: 10px;\r\n    background: #fff;\r\n    padding-bottom: 0.2rem;\r\n\r\n    .serve {\r\n      width: 94%;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.2rem 0;\r\n      margin: auto;\r\n\r\n      span {\r\n        color: #000;\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n\r\n    .price {\r\n      width: 96%;\r\n      margin: auto;\r\n      padding: 0.25rem 0 0;\r\n    }\r\n  }\r\n}\r\n\r\n.van-card {\r\n  border-radius: 10px;\r\n  background: #fff;\r\n}\r\n\r\nli {\r\n  background: #f2f2f2;\r\n  margin: 4px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuyPage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuyPage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BuyPage.vue?vue&type=template&id=7d9a6aec&scoped=true\"\nimport script from \"./BuyPage.vue?vue&type=script&lang=js\"\nexport * from \"./BuyPage.vue?vue&type=script&lang=js\"\nimport style0 from \"./BuyPage.vue?vue&type=style&index=0&id=7d9a6aec&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d9a6aec\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","order","staticClass","attrs","on","giveUp","_v","model","value","dialog","callback","$$v","expression","contact","name","tel","showPopup","style","height","show","list","onAdd","onEdit","onSelect","chosenContactId","showLink","areaList","searchResult","onSave","onDelete","onChangeDetail","_l","filterObj","o","index","key","price","img_url","count","$event","$router","push","path","query","product_id","_m","_s","id","Allcount","total","onSubmit","psw","showKeyboard","_e","staticRenderFns","components","Dialog","Component","data","JSON","parse","localStorage","getItem","computed","mapState","orderList","find","$route","order_id","Object","values","filter","item","sum","forEach","parseFloat","watch","n","password","token","length","Toast","newOrderList","map","state","setItem","stringify","newCarList","carList","ischecked","updateCar","replace","updateOrder","methods","mapMutations","areaCode","city","country","county","isDefault","postalCode","province","content","console","log","val","address","confirm","message","then","back","catch","component"],"sourceRoot":""}