{"version":3,"file":"js/711.cd553288.js","mappings":"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","sources":["webpack://myvuex/./src/views/BuyPage/OrderDetail.vue","webpack://myvuex/src/views/BuyPage/OrderDetail.vue","webpack://myvuex/./src/views/BuyPage/OrderDetail.vue?c552","webpack://myvuex/./src/views/BuyPage/OrderDetail.vue?e1c2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buy\"},[_c('header',[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"title\"},[_vm._v(\"待收货\")])],1),_vm._l((_vm.filterObj),function(o,index){return _c('div',{key:index,staticClass:\"product\"},[_vm._l((o),function(item,index){return _c('van-swipe-cell',{key:index},[_c('van-card',{staticClass:\"goods-card\",attrs:{\"price\":item.price,\"title\":item.name,\"thumb\":item.img_url,\"num\":item.count || _vm.order[index].count},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/productdetails',\n            query: {\n              product_id: item.product_id,\n            },\n          })}}})],1)}),_vm._m(0,true),_c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\"订单编号\")]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.order[index].id)+\" |\")]),_vm._v(\" 复制 \")])]),_c('div',{staticClass:\"btn\",staticStyle:{\"justify-content\":\"end\"}},[(_vm.order[index].state === '已支付')?_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.complete(_vm.order[index].id)}}},[_vm._v(\"确认收货\")]):_vm._e(),(_vm.order[index].state === '未支付')?_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/buypage',\n            query: { order_id: _vm.order[index].id },\n          })}}},[_vm._v(\"继续付款\")]):_vm._e()],1)],2)})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"serve\"},[_c('div',[_vm._v(\"配送服务\")]),_c('div',[_c('div',[_vm._v(\"快递 免邮\")]),_c('div',[_vm._v(\"预计24小时内发货\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buy\">\r\n    <header>\r\n      <van-icon name=\"arrow-left\" size=\"20\" @click=\"$router.back()\" />\r\n      <div class=\"title\">待收货</div>\r\n    </header>\r\n    <!-- 产品 -->\r\n    <div class=\"product\" v-for=\"(o, index) in filterObj\" :key=\"index\">\r\n      <van-swipe-cell v-for=\"(item, index) in o\" :key=\"index\">\r\n        <van-card\r\n          :price=\"item.price\"\r\n          :title=\"item.name\"\r\n          class=\"goods-card\"\r\n          :thumb=\"item.img_url\"\r\n          :num=\"item.count || order[index].count\"\r\n          @click=\"\r\n            $router.push({\r\n              path: '/productdetails',\r\n              query: {\r\n                product_id: item.product_id,\r\n              },\r\n            })\r\n          \"\r\n        />\r\n      </van-swipe-cell>\r\n      <div class=\"serve\">\r\n        <div>配送服务</div>\r\n        <div>\r\n          <div>快递 免邮</div>\r\n          <div>预计24小时内发货</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"serve\">\r\n        <div>订单编号</div>\r\n        <div>\r\n          <span>{{ order[index].id }} |</span> 复制\r\n        </div>\r\n      </div>\r\n      <div class=\"btn\" style=\"justify-content: end\">\r\n        <van-button\r\n          plain\r\n          hairline\r\n          type=\"danger\"\r\n          round\r\n          size=\"small\"\r\n          v-if=\"order[index].state === '已支付'\"\r\n          @click=\"complete(order[index].id)\"\r\n          >确认收货</van-button\r\n        >\r\n        <van-button\r\n          plain\r\n          hairline\r\n          type=\"danger\"\r\n          round\r\n          size=\"small\"\r\n          v-if=\"order[index].state === '未支付'\"\r\n          @click=\"\r\n            $router.push({\r\n              path: '/buypage',\r\n              query: { order_id: order[index].id },\r\n            })\r\n          \"\r\n          >继续付款</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState([\"orderList\", \"token\"]),\r\n    order() {\r\n      return this.orderList.filter(\r\n        (o) => o.state === \"已支付\" && this.token == o.token\r\n      );\r\n    },\r\n    // 过滤不是对象\r\n    filterObj() {\r\n      return Object.values(this.order).map((item) => {\r\n        return Object.values(item).filter((item) => {\r\n          if (typeof item === \"object\") {\r\n            return item;\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"updateOrder\"]),\r\n    complete(id) {\r\n      let newOrderList = this.orderList.map((o) => {\r\n        if (o.id == id) {\r\n          return { ...o, state: \"已完成\" };\r\n        }\r\n        return o;\r\n      });\r\n      console.log(newOrderList);\r\n      localStorage.setItem(\"orderList\", JSON.stringify(newOrderList));\r\n      // this.$router.replace(\"/orderdetail\");\r\n      this.updateOrder();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.buy {\r\n  background: #f2f2f2;\r\n  height: 100vh;\r\n  header {\r\n    margin-top: 0px;\r\n    color: rgba(0, 0, 0, 0.8);\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    padding: 0.3rem 0;\r\n    background: #fff;\r\n    display: flex;\r\n    justify-content: center;\r\n    .title {\r\n      width: 90vw;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .product {\r\n    margin: 0.2rem auto;\r\n    width: 96vw;\r\n    border-radius: 10px;\r\n    background: #fff;\r\n    padding-bottom: 0.2rem;\r\n    .serve {\r\n      width: 94%;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.2rem 0;\r\n      margin: auto;\r\n      span {\r\n        color: #000;\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n    .btn {\r\n      width: 94%;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.2rem 0;\r\n      margin: auto;\r\n      color: rgb(253, 81, 1);\r\n    }\r\n  }\r\n}\r\n.van-card {\r\n  border-radius: 10px;\r\n  background: #fff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OrderDetail.vue?vue&type=template&id=053012b2&scoped=true\"\nimport script from \"./OrderDetail.vue?vue&type=script&lang=js\"\nexport * from \"./OrderDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./OrderDetail.vue?vue&type=style&index=0&id=053012b2&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"053012b2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","_v","_l","filterObj","o","index","key","item","price","name","img_url","count","order","push","path","query","product_id","_m","_s","id","staticStyle","state","complete","_e","order_id","staticRenderFns","computed","mapState","orderList","filter","token","Object","values","map","methods","mapMutations","newOrderList","console","log","localStorage","setItem","JSON","stringify","updateOrder","component"],"sourceRoot":""}